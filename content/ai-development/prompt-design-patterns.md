---
title: "プロンプト設計パターン"
tags: [基礎, 実践, 設計, プロンプト, 品質, 情報管理, 全フェーズ, リスク]
created: 2026-02-25
updated: 2026-02-26
---

## 効果的なプロンプトの構造

開発でAIに指示を出す際は、4つの要素を意識します。(1)役割設定：「あなたはJavaのシニアエンジニアです」のように専門性を指定。(2)文脈提供：関連するコード、設計書、用語集を含める。(3)指示：具体的に何をしてほしいかを明確にする。(4)出力形式：「Markdown表で」「JSONで」など[[構造化出力]]の形式を指定する。この4要素を[[プロンプトテンプレート]]として定型化し、タスクごとに変数部分だけ差し替えると、安定した品質の出力が得られます。

## 開発タスク別のプロンプトパターン

よく使うパターンをいくつか紹介します。「分析パターン」：コードや仕様書を与え「問題点を3つ挙げて、それぞれ根拠と改善案を示して」と[[Chain-of-Thought]]で段階的に分析させる。「変換パターン」：「このクラス図をAPIインターフェース定義に変換して」のように、あるドキュメント形式から別の形式への変換を依頼する。「レビューパターン」：「このコードを以下の観点でレビューして：セキュリティ、パフォーマンス、可読性」と観点を明示して[[AIレビュー]]を依頼する。「生成パターン」：[[Few-shot]]で類似の完成例を2-3件提示し、同じ形式での生成を依頼する。パターンを蓄積しチームで共有することで、AI活用の属人化を防げます。

## プロンプトの改善サイクル

最初から完璧なプロンプトは書けません。出力を見て調整を繰り返すことが重要です。AIの出力が期待と異なる場合、指示が曖昧だったのか、文脈が不足していたのか、出力形式が不明確だったのかを分析します。改善したプロンプトは[[ナレッジベース]]に蓄積し、チームの資産として共有しましょう。[[ハルシネーション]]が頻発する領域では、「不明な点は『不明』と回答してください」「推測する場合は『推測：』と明記してください」といった[[グラウンディング]]の指示を加えることが有効です。

## 用語

- **Prompt Template（プロンプトテンプレート）**: 繰り返し使うプロンプトの定型フォーマット。固定部分（役割設定、出力形式）と変数部分（対象コード、要件）を分離し、チームで共有することでAI活用の品質を均一化する。
- **Chain-of-Thought（思考連鎖）**: AIに段階的な推論過程を明示させるプロンプト手法。「まず〜を分析し、次に〜を検討し…」と考えさせることで、複雑な設計判断でも論理の飛躍を防ぐ。
- **AI Review（AIレビュー）**: コードや設計書をAIに読ませ、バグ、設計上の問題、ベストプラクティスからの逸脱を検出させる手法。人間のレビューを補完し、見落としを減らす。
